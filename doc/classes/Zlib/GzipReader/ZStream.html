<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Class: Zlib::GzipReader::ZStream</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Class</span><br />Zlib::GzipReader::ZStream</td>
  <td align="right">
    <table cellspacing="0" cellpadding="2">
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../../../files/lib/zliby_rb.html">lib/zliby.rb</a>
        </td>
      </tr>
    <tr>
      <td>Parent:</td>
      <td>
Object
     </td>
   </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000008">adler</a></li>
  <li><a href="#M000009">avail_in</a></li>
  <li><a href="#M000010">avail_out</a></li>
  <li><a href="#M000011">avail_out=</a></li>
  <li><a href="#M000012">close</a></li>
  <li><a href="#M000013">closed?</a></li>
  <li><a href="#M000014">data_type</a></li>
  <li><a href="#M000015">end</a></li>
  <li><a href="#M000016">ended?</a></li>
  <li><a href="#M000017">finish</a></li>
  <li><a href="#M000018">finished?</a></li>
  <li><a href="#M000019">flush_next_in</a></li>
  <li><a href="#M000020">flush_next_out</a></li>
  <li><a href="#M000007">new</a></li>
  <li><a href="#M000021">reset</a></li>
  <li><a href="#M000022">stream_end?</a></li>
  <li><a href="#M000023">total_in</a></li>
  <li><a href="#M000024">total_out</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div class="method">
  <div class="title">
    <a name="M000007"></a><b>new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000007_source')" id="l_M000007_source">show source</a> ]</p>
  <div id="M000007_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 115</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
                <span class="ruby-ivar">@input_buffer</span> = []
                <span class="ruby-ivar">@output_buffer</span> = []
                <span class="ruby-ivar">@out_pos</span> = <span class="ruby-value">-1</span>
                <span class="ruby-ivar">@in_pos</span> = <span class="ruby-value">-1</span>
                <span class="ruby-ivar">@bit_bucket</span> = <span class="ruby-value">0</span>
                <span class="ruby-ivar">@bit_count</span> = <span class="ruby-value">0</span>

        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000008"></a><b>adler</b>()
  </div>
  <div class="description">
  <p>
Returns the <a href="ZStream.html#M000008">adler</a>-32 checksum of the
input data.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000008_source')" id="l_M000008_source">show source</a> ]</p>
  <div id="M000008_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 125</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">adler</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000009"></a><b>avail_in</b>()
  </div>
  <div class="description">
  <p>
Returns the number of bytes read. Normally 0 since all bytes are read at
once.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000009_source')" id="l_M000009_source">show source</a> ]</p>
  <div id="M000009_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 129</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">avail_in</span>
                <span class="ruby-ivar">@input_buffer</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@in_pos</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000010"></a><b>avail_out</b>()
  </div>
  <div class="description">
  <p>
Returns number of free bytes in the output buffer. As the output buffer is
self expanding this normally returns 0.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000010_source')" id="l_M000010_source">show source</a> ]</p>
  <div id="M000010_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 134</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">avail_out</span>
                <span class="ruby-ivar">@output_buffer</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@out_pos</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000011"></a><b>avail_out=</b>(size)
  </div>
  <div class="description">
  <p>
Allocates size bytes in output buffer. If size &lt; <a
href="ZStream.html#M000010">avail_out</a> it truncates the buffer.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000011_source')" id="l_M000011_source">show source</a> ]</p>
  <div id="M000011_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 139</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">avail_out=</span> <span class="ruby-identifier">size</span>
                <span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> 
                        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">avail_out</span>
                                <span class="ruby-ivar">@output_buffer</span>.<span class="ruby-identifier">push</span> <span class="ruby-keyword kw">nil</span>
                        <span class="ruby-keyword kw">else</span>
                                <span class="ruby-ivar">@output_buffer</span>.<span class="ruby-identifier">pop</span>
                        <span class="ruby-keyword kw">end</span>
                <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000012"></a><b>close</b>()
  </div>
  <div class="description">
  <p>
Closes stream. Further operations will raise Zlib::StreamError
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000012_source')" id="l_M000012_source">show source</a> ]</p>
  <div id="M000012_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 150</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close</span>
                <span class="ruby-ivar">@closed</span> = <span class="ruby-keyword kw">true</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000013"></a><b>closed?</b>()
  </div>
  <div class="description">
  <p>
True if stream closed, otherwise False.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000013_source')" id="l_M000013_source">show source</a> ]</p>
  <div id="M000013_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 155</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">closed?</span>
                <span class="ruby-ivar">@closed</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000014"></a><b>data_type</b>()
  </div>
  <div class="description">
  <p>
Best guess of input data, one of Zlib::BINARY, Zlib::ASCII, or
Zlib::UNKNOWN
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000014_source')" id="l_M000014_source">show source</a> ]</p>
  <div id="M000014_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 160</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">data_type</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000015"></a><b>end</b>()
  </div>
  <div class="description">
  <p>
See <a href="ZStream.html#M000012">close</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000015_source')" id="l_M000015_source">show source</a> ]</p>
  <div id="M000015_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 164</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">end</span>
                <span class="ruby-identifier">close</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000016"></a><b>ended?</b>()
  </div>
  <div class="description">
  <p>
See <a href="ZStream.html#M000013">closed?</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000016_source')" id="l_M000016_source">show source</a> ]</p>
  <div id="M000016_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 169</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ended?</span>
                <span class="ruby-identifier">closed?</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000017"></a><b>finish</b>()
  </div>
  <div class="description">
  <p>
Finishes the stream, flushes output buffer, implemented by child classes
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000017_source')" id="l_M000017_source">show source</a> ]</p>
  <div id="M000017_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 174</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">finish</span>
                <span class="ruby-identifier">close</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000018"></a><b>finished?</b>()
  </div>
  <div class="description">
  <p>
True if stream is finished, otherwise False
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show source</a> ]</p>
  <div id="M000018_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 179</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">finished?</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000019"></a><b>flush_next_in</b>()
  </div>
  <div class="description">
  <p>
Flushes input buffer and returns the data therein.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show source</a> ]</p>
  <div id="M000019_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 183</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flush_next_in</span>
                <span class="ruby-ivar">@in_pos</span> = <span class="ruby-ivar">@input_buffer</span>.<span class="ruby-identifier">length</span>
                <span class="ruby-ivar">@input_buffer</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000020"></a><b>flush_next_out</b>()
  </div>
  <div class="description">
  <p>
Flushes the output buffer and returns all the data
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000020_source')" id="l_M000020_source">show source</a> ]</p>
  <div id="M000020_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 189</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flush_next_out</span>
                <span class="ruby-ivar">@out_pos</span> = <span class="ruby-ivar">@output_buffer</span>.<span class="ruby-identifier">length</span>
                <span class="ruby-ivar">@output_buffer</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000021"></a><b>reset</b>()
  </div>
  <div class="description">
  <p>
Reset stream. Input and Output buffers are <a
href="ZStream.html#M000021">reset</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000021_source')" id="l_M000021_source">show source</a> ]</p>
  <div id="M000021_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 195</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset</span>
                <span class="ruby-ivar">@out_pos</span> = <span class="ruby-value">-1</span>
                <span class="ruby-ivar">@in_pos</span> = <span class="ruby-value">-1</span>
                <span class="ruby-ivar">@input_buffer</span> = []
                <span class="ruby-ivar">@output_buffer</span> = []
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000022"></a><b>stream_end?</b>()
  </div>
  <div class="description">
  <p>
See finished.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000022_source')" id="l_M000022_source">show source</a> ]</p>
  <div id="M000022_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 203</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stream_end?</span>
                <span class="ruby-identifier">finished?</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000023"></a><b>total_in</b>()
  </div>
  <div class="description">
  <p>
Size of input buffer.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000023_source')" id="l_M000023_source">show source</a> ]</p>
  <div id="M000023_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 208</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">total_in</span>
                <span class="ruby-ivar">@input_buffer</span>.<span class="ruby-identifier">length</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000024"></a><b>total_out</b>()
  </div>
  <div class="description">
  <p>
Size of output buffer.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000024_source')" id="l_M000024_source">show source</a> ]</p>
  <div id="M000024_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/zliby.rb, line 213</span>
        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">total_out</span>
                <span class="ruby-ivar">@output_buffer</span>.<span class="ruby-identifier">length</span>
        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>